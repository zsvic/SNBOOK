# 1 基础语法

## 1.1 常见内置类型

Java中方法的栈帧中的变量存的内容可以分为两类，一个为基本类型，一个为引用类型。


### 1.1.1 基本类型

每种基本类型所占存储空间的长度都是固定的。基本类型的种类和长度如下：
- 整数：byte 1字节，short 2字节，int 4字节，long 8字节
- 浮点型：float 4字节，double 8字节
- 字符型：char 2字节
- boolen

基本类型初始化
```java
int a = 1;
```

### 1.1.2 数组
数组是一个特殊的内置类型，当创建一个数组对象时，返回一个引用。数组对象的类型为 [+type，例如：
```java
//一维数组，a的类型为：[int
int[] a = new int[n];
//二维数组，b的类型为：[[int
int[][] b = new int[n][m];
```

### 1.1.3 字符串
Java提供的String类，内部是由一个final的char数组来存储字符串的。

#### 字符串常量与String堆内对象
字符串常量和new出来的String对象虽然都是String类的实例，并且是不可变的，但是他们还是有很大区别的，字符串常量在编译时就放入常量池，String对象在程序运行时才从堆中分配。
```java
String a = "abc";
String b = new String("abc");
String c = "a" + "bc";
String d = "a" + new String("bc");
// a == c != b != d
```
上述a，b，c中
- a在编译时直接分配内存空间，存入常量池
- b在运行的时候在堆中建立String对象
- c在编译的时候进行优化，自动合并成 "abc"，与a为同一个对象
- d在运行时，实际是隐含使用StringBuider进行字符串连接，返回一个String对象（在堆中）

#### StringBuider与StringBuffer
String对象都是不可变的，这是为了减少String运算产生大量的中间变量，但有时又

#### 正则表达式

## 1.2 操作符

操作符通常接受一个或多个参数（操作数），并生成一个新值。

### 赋值操作符

赋值操作使用‘=’，赋值大体分为两类：
- 基本类型赋值
- 引用类型赋值

基本类型赋值是进行内容复制操作，如下操作中，首先将常数4复制到变量a的内存空间中，然后再将a的内容进行复制到b的内存空间，a和b是两个独立的变量，它们的更改并不会影响对方。
```java
a = 4;
b = a;
```

引用类型赋值的本质也是进行内容复制，但复制的是对象的引用，这样通常会使两个变量指向同一个对象，那么以他们为句柄进行修改对象时，是会相互影响的，例如以下变量c和d指向同一对象。
```java
c = new Object();
d = c;
```
### 算数运算符

算数运算符通常只能作用于基本类型（除了‘+’重载可以对字符串进行连接），算数运算符有以下几类：

- 基础：加号（+），减号（-），乘号（*），整除（/)，取模（%）
- 一元加（+），一元减（-）
- 简化符号：+= ，-=，*=，/=，%=

> 基础运算符对基本类型运算时，会自动进行类型扩展；一元运算符改变数值正负；**简化符号在赋值时会自动强制转换成目标类型**

```java
short a = 1;
a = a+1; //编译不通过，a+1自动扩展类型为int型，赋值时类型不正确。
a += 1; //a+1后的值，在赋值时会强制转换成short，等价于 a=(short)(a + 1);
```
### 递增和递减

递增（++）和递减（--）可以非常方便地进行线性单位运算，它可以分为两类：
- 前缀式（++a）
- 后缀式（a--）

前缀式通常是将运算的结果作为返回值，后缀式是临时保存运算前的值，再进行运算，并且将临时保存的值作为返回值。
> 上述过程通常表现为：前缀式(++a)表示先做运算，再进行赋值；后缀式(a--)表示先赋值，再进行运算。
> 当有编译器优化的时候，会通过调整执行顺序，使得后缀式不必临时保存变量，可以让前缀式和后缀式的效率一样，但是有些情况并不能总是优化，所以如果在不涉及赋值的情况下，优先使用前缀式。

### 关系操作符

- 基本类型：等于（==），大于（>），小于（<）
- 对象比较：equals()

> Java内置对象大都重写了equals方法，可以很方便使用equals比较对象内容，但是自建对象继承Object对象时，其equals方法默认比较引用。

### 其他操作符

- 逻辑操作符：&&，||，!
- 常量标志：F(float)，D(double)，L(long)，0X(16进制)，0(8进制)
- 位操作符：&(位与)，|(位或)，^(异或)，~(非)
- 位移操作符：<<(左移，低位补0)，>>(右移，符号位扩展，高位补0)，>>>(无符号右移，不管正负，符号位插0)
- 三元操作符：A ? B : C; (A为真，返回B，否则返回C)
  

## 1.3 控制执行
控制执行流程大体分为 **判断**，**循环**，**跳出**，**返回**。


