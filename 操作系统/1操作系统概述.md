# 1 操作系统概述
## 1.1 操作系统的作用

- 管理系统资源
- 抽象系统资源
- 为上层提供接口

操作系统可以被认作为一个中间件，这个中间件屏蔽底层细节，抽象资源并为上层提供接口，除了操作系统，其他大部分中间件的作用大体也是这三个。

## 1.2 操作系统的基本特性
- 并发
- 共享
- 虚拟
- 异步

> 并发是多任务操作系统的核心特征，有了并发，才会出现多个进程共享资源，才会有处理器虚拟成多个为多用户提供服务，才会出现进程以不可知的速度向前推进的异步性。

## 1.3 操作系统的主要功能
- 处理机管理
- 存储器管理
- 设备管理
- 文件管理

### 1.3.1 处理机管理
1. 进程控制
    - 进程的创建与终止：创建进程并为进程分配资源；当进程运行结束时，应该撤销进程并回收进程所占资源。
    - 进程的阻塞与唤醒
    - 进程的挂起与激活
2. 进程同步
    > 对多个进程的运行进行协调，通常主要控制进程之间访问临界资源的顺序。同步方式分为 进程互斥方式 和 进程同步方式。
    - 进程互斥方式：多个进程对临界资源进行访问时，应采用互斥方式 
    - 进程同步方式：通过信号量机制对临界资源上锁，保证进程对临界资源的顺序访问。

3. 进程通信
    - 共享存储器
    - 管道通信
    - 消息传递系统
    - 客户机-服务器系统（Socket，RPC）
  
4. 调度
    - 作业调度：又称为长程调度，主要从磁盘上的后备队列中将作业调度到内存，并建立进程。   
    - 进程调度：又称短程调度，主要从就绪队列中选出一个进程将处理机分配给它，并设置上下文，使其能够执行。
  
### 1.3.2 存储器管理

1. 内存分配
     - 静态分配：作业装入时确定，不允许再申请内存，也允许在内存中移动
     - 动态分配：作业的基本内存空间在装入时确定，但允许在运行的过程中继续申请内存空间，也允许在内存中移动
2. 内存保护
    - 确保每个用户程序仅早自己的内存空间中运行，彼此隔离
    - 可以设置两个界限寄存器
3. 地址映射
    > 每个程序在编译后，其地址都是从0开始的，因此装入内存时，需要根据装入的位置对原始的逻辑地址进行映射，转换成物理地址
4. 内存扩充
    > 借助虚拟存储技术可以从逻辑上扩充内存容量。
    - 请求调入功能
    - 置换功能

### 1.3.3 设备管理

设备管理的主要任务：
- 管理并控制IO设备
- 提高CPU与IO设备的利用率
为了实现这些任务，设备管理提供了缓冲管理、设备分配和设备处理以及虚拟设备等功能。

1. 缓冲管理：提高CPU的利用率，缓解CPU和IO设备速度不匹配
2. 设备分配：根据用户进程的请求，分配IO设备
3. 设备处理：又称为设备驱动程序，用于CPU和设备控制器之间的通信
4. 虚拟设备：物理设备虚拟成多个虚拟设备

### 1.3.4 文件管理
